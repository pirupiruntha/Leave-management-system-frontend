<div class="container-fluid">

  <div class="row">
    <h1 class="text-success mt-2 text-center fs-1 text fixed-top">Welcome to the Leave Management System</h1>

    <div class="col-md-6">
      <img src="../../../assets/login_img.svg" height="100%" width="100%">
    </div>

    <div class="col-md-4 mt-5 ms-5 pt-5">
      <h5 class="text-primary text-center fs-2 text">Login</h5>

      <form *ngIf="!isLoggedIn" name="form" class="mt-3 p-3 ms-2"
       (ngSubmit)="f.form.valid && onSubmit()" #f="ngForm"
       novalidate >

        <div class="form-group">
          <label for="username" class="form-label" >Username</label>
          <div class="form-floating mb-3">
            <input type="text" class="form-control"  id="username" 
            name="username" [(ngModel)]="form.username" required #username="ngModel"
            [ngClass]="{ 'is-invalid': f.submitted && username.errors }" />
          </div>
          <div *ngIf="username.errors && f.submitted" class="invalid-feedback">
            Username is required!
          </div>
        </div>

        <div class="form-group">
          <label for="password" class="form-label" >Password</label>
          <div class="form-floating mb-3">
            <input type="password" class="form-control"  id="password" 
            name="password" [(ngModel)]="form.password" required #password="ngModel"
            [ngClass]="{ 'is-invalid': f.submitted && password.errors }" />
          </div>
          <div *ngIf="password.errors && f.submitted" class="invalid-feedback">
            <div *ngIf="password.errors['required']">Password is required</div>
            <div *ngIf="password.errors['minlength']">
              Password must be at least 6 characters
            </div>
          </div>
        </div>

        <!-- <label for="floatingPassword" class="form-label" >Password</label>
        <div class="form-floating mb-3">
          <input type="password" class="form-control" id="floatingPassword"
          name="password" [(ngModel)]="password"  required
          />
        </div> -->

        <div class="d-grid gap-2 mb-10 form-group">
          <button type="submit" class="btn btn-outline-success" >Login</button>
        </div>

        <div class="form-group">
          <div *ngIf="f.submitted && isLoginFailed" class="alert alert-danger" role="alert">
            Login failed: {{ errorMessage }}
          </div>
        </div>

      </form>

    </div>
  </div>
</div>